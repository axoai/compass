spring:
  application:
    name: compass
  resources:
    add-mappings: false
  mvc:
    favicon.enabled: false
    throw-exception-if-no-handler-found: true
    dispatch-trace-request: true
  datasource:
    url: jdbc:postgresql://${DATASOURCE_HOST:localhost}/postgres?currentSchema=compass
    username: postgres
    password: postgres
    tomcat:
      default-auto-commit: false
      test-on-borrow: false
      # TRANSACTION_READ_COMMITTED
      default-transaction-isolation: 2
  jooq:
    sql-dialect: postgres

flyway:
  schemas:
    - compass

server:
  compression:
    enabled: true
    mime-types:
      - application/json
      - application/*+json
  use-forward-headers: true

security:
  ignored: none

twintip:
  mapping: /api
  yaml: "classpath:api/api.yaml"

management:
  add-application-context-header: false
  health.db.enabled: false
  port: 7979

endpoints:
  jmx.unique-names: true
  jolokia.path: /jmx

tracer:
  stacked: true
  traces:
    X-Flow-ID: flow-id

logbook:
  exclude:
    - /favicon.ico
    - /.well-known/schema-discovery
    - /api
