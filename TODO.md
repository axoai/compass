# TODO

- architecture
    - API is RESTful
    - default implementations for server and client
        - Spring
        - Java 8
    - fat client
    - server and client share sorting/filtering algorithm (as a library?)
    - plugins
        - to be shared by server and client
        - jar files
        - service loader vs. spring dependency context
        - e.g. new dimension
        - differentiate between dimension definition and implementation (e.g. host pattern vs. pattern impl)
        - or server side plugin, e.g. OAuth 2.0

- algorithm
    - list of entries is order by specificity
    - linear search
    - first match -> return
    - no match -> throw
    - TODO what if a dimension is not provided by the caller?
        
- no requirements towards:
    - values: json
- history
    - require comment for every change
    - persist every change (including old value)
    - /*/history in API 
- OAuth plugin
- Spring concept
    - interoperability with
        - @Value
        - PropertySource
        - Spring Cloud Config Server
    - can it be done in a library?
    - refresh?
- client
    - *static* vs. dynamic dimension values
        - e.g. static could be AWS region or application id (probably available as an environment variable)
        - e.g. dynamic could be application specific data, like country code
- plugins
    - SPI, via ServiceLoader?
    - compass-dimension-time
        - https://github.com/zalando/compass/wiki/after
        - https://github.com/zalando/compass/wiki/before
        - comparison on isBefore/isAfter
        - ISO 8601
        - e.g. `2015-09-03T08:25:37+02:00`
    - compass-dimension-version
        - https://github.com/zalando/compass/wiki/version
        - version range(-set)
        - comparison on contains
        - semantic versioning
        - severus (needs to be finished/polished/documented/...)
        - e.g. `[1.0,2.0)`
    - compass-dimension-pattern
        - https://github.com/zalando/compass/wiki/pattern
        - patterns: regex, wildcard, ...
        - e.g. `*-test@example.org`
    - dimension values should not *overlap*, how can this be verified?
        - maybe every custom dimension implementation needs to implement:
            - name of the dimension
            - *match* operation between dimension value and actual value
            - *overlap* operation between different dimension values
        - validation in general?
            - e.g. invalid patterns?
- encryption?!